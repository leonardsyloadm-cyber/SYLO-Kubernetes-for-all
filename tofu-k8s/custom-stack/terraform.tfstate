{"version":4,"terraform_version":"1.10.7","serial":3,"lineage":"90fc7293-abdf-82c3-a25c-13b1c3ddbf6f","outputs":{"ssh_port":{"value":"30326","type":"string"},"web_port":{"value":"32536","type":"string"}},"resources":[{"mode":"managed","type":"kubernetes_config_map_v1","name":"web_content","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"binary_data":null,"data":{"index.html":"\u003ch1\u003ePlan Personalizado Activo\u003c/h1\u003e\n\u003cp\u003eCPU Asignada: 2 Cores\u003c/p\u003e\n\u003cp\u003eRAM Asignada: 2 GB\u003c/p\u003e\n\u003cp\u003eAlmacenamiento: 25 GB\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eWeb Server: \u003cstrong\u003eapache\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003eBase de Datos: \u003cstrong\u003emongodb\u003c/strong\u003e\u003c/p\u003e\n"},"id":"default/custom-web-content","immutable":false,"metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":null,"name":"custom-web-content","namespace":"default","resource_version":"431","uid":"077c1022-eeb3-4394-9007-f3150dc6a858"}]},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"kubernetes_deployment_v1","name":"db_mongo","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"index_key":0,"schema_version":1,"attributes":{"id":"default/custom-db","metadata":[{"annotations":null,"generate_name":"","generation":1,"labels":null,"name":"custom-db","namespace":"default","resource_version":"572","uid":"93e6801e-d9f6-429a-817b-3171ce8f6715"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"custom-db"}}],"strategy":[{"rolling_update":[{"max_surge":"25%","max_unavailable":"25%"}],"type":"RollingUpdate"}],"template":[{"metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":{"app":"custom-db"},"name":"","namespace":"","resource_version":"","uid":""}],"spec":[{"active_deadline_seconds":0,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[{"name":"MONGO_INITDB_ROOT_USERNAME","value":"root","value_from":[]},{"name":"MONGO_INITDB_ROOT_PASSWORD","value":"root","value_from":[]}],"env_from":[],"image":"mongo:latest","image_pull_policy":"Always","lifecycle":[],"liveness_probe":[],"name":"mongo","port":[{"container_port":27017,"host_ip":"","host_port":0,"name":"","protocol":"TCP"}],"readiness_probe":[],"resources":[{"limits":{"cpu":"1","memory":"1Gi"},"requests":{}}],"restart_policy":"","security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","termination_message_policy":"File","tty":false,"volume_device":[],"volume_mount":[{"mount_path":"/data/db","mount_propagation":"None","name":"storage-vol","read_only":false,"sub_path":"","sub_path_expr":""}],"working_dir":""}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"hostname":"","image_pull_secrets":[],"init_container":[],"node_name":"","node_selector":null,"os":[],"priority_class_name":"","readiness_gate":[],"restart_policy":"Always","runtime_class_name":"","scheduler_name":"default-scheduler","security_context":[],"service_account_name":"","share_process_namespace":false,"subdomain":"","termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"name":"storage-vol","nfs":[],"persistent_volume_claim":[{"claim_name":"custom-pvc","read_only":false}],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}],"timeouts":null,"wait_for_rollout":true},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9"}]},{"mode":"managed","type":"kubernetes_deployment_v1","name":"web_apache","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"index_key":0,"schema_version":1,"attributes":{"id":"default/custom-web","metadata":[{"annotations":null,"generate_name":"","generation":1,"labels":null,"name":"custom-web","namespace":"default","resource_version":"490","uid":"b5fa21d1-6ebc-420d-b3ed-0b715aba2dac"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"custom-web"}}],"strategy":[{"rolling_update":[{"max_surge":"25%","max_unavailable":"25%"}],"type":"RollingUpdate"}],"template":[{"metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":{"app":"custom-web"},"name":"","namespace":"","resource_version":"","uid":""}],"spec":[{"active_deadline_seconds":0,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[{"name":"DB_HOST","value":"custom-db-service","value_from":[]}],"env_from":[],"image":"httpd:alpine","image_pull_policy":"IfNotPresent","lifecycle":[],"liveness_probe":[],"name":"web-server","port":[{"container_port":80,"host_ip":"","host_port":0,"name":"","protocol":"TCP"}],"readiness_probe":[],"resources":[{"limits":{"cpu":"1","memory":"1Gi"},"requests":{}}],"restart_policy":"","security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","termination_message_policy":"File","tty":false,"volume_device":[],"volume_mount":[{"mount_path":"/usr/local/apache2/htdocs/","mount_propagation":"None","name":"html-vol","read_only":false,"sub_path":"","sub_path_expr":""}],"working_dir":""},{"args":null,"command":null,"env":[{"name":"PASSWORD_ACCESS","value":"true","value_from":[]},{"name":"USER_PASSWORD","value":"Bj8eT6DivMHqh6AK","value_from":[]},{"name":"USER_NAME","value":"cliente","value_from":[]},{"name":"SUDO_ACCESS","value":"true","value_from":[]}],"env_from":[],"image":"lscr.io/linuxserver/openssh-server:latest","image_pull_policy":"Always","lifecycle":[],"liveness_probe":[],"name":"ssh","port":[{"container_port":2222,"host_ip":"","host_port":0,"name":"","protocol":"TCP"}],"readiness_probe":[],"resources":[{"limits":{},"requests":{}}],"restart_policy":"","security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","termination_message_policy":"File","tty":false,"volume_device":[],"volume_mount":[],"working_dir":""}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"hostname":"","image_pull_secrets":[],"init_container":[],"node_name":"","node_selector":null,"os":[],"priority_class_name":"","readiness_gate":[],"restart_policy":"Always","runtime_class_name":"","scheduler_name":"default-scheduler","security_context":[],"service_account_name":"","share_process_namespace":false,"subdomain":"","termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[{"default_mode":"0644","items":[],"name":"custom-web-content","optional":false}],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"name":"html-vol","nfs":[],"persistent_volume_claim":[],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}]}],"timeouts":null,"wait_for_rollout":true},"sensitive_attributes":[[{"type":"get_attr","value":"spec"},{"type":"index","value":{"value":0,"type":"number"}},{"type":"get_attr","value":"template"},{"type":"index","value":{"value":0,"type":"number"}},{"type":"get_attr","value":"spec"},{"type":"index","value":{"value":0,"type":"number"}},{"type":"get_attr","value":"container"},{"type":"index","value":{"value":1,"type":"number"}},{"type":"get_attr","value":"env"},{"type":"index","value":{"value":1,"type":"number"}},{"type":"get_attr","value":"value"}]],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9"}]},{"mode":"managed","type":"kubernetes_persistent_volume_claim","name":"custom_storage","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"id":"default/custom-pvc","metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":null,"name":"custom-pvc","namespace":"default","resource_version":"510","uid":"01004688-c09e-4447-a5d0-d601b04d19c0"}],"spec":[{"access_modes":["ReadWriteOnce"],"resources":[{"limits":null,"requests":{"storage":"25Gi"}}],"selector":[],"storage_class_name":"standard","volume_mode":"Filesystem","volume_name":"pvc-01004688-c09e-4447-a5d0-d601b04d19c0"}],"timeouts":null,"wait_until_bound":true},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ=="}]},{"mode":"managed","type":"kubernetes_service_v1","name":"svc_mongo","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"index_key":0,"schema_version":1,"attributes":{"id":"default/custom-db-service","metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":null,"name":"custom-db-service","namespace":"default","resource_version":"437","uid":"4ee5bdfd-a2c8-4123-ae33-faa3da54cb4c"}],"spec":[{"allocate_load_balancer_node_ports":true,"cluster_ip":"10.106.225.60","cluster_ips":["10.106.225.60"],"external_ips":null,"external_name":"","external_traffic_policy":"","health_check_node_port":0,"internal_traffic_policy":"Cluster","ip_families":["IPv4"],"ip_family_policy":"SingleStack","load_balancer_class":"","load_balancer_ip":"","load_balancer_source_ranges":null,"port":[{"app_protocol":"","name":"","node_port":0,"port":27017,"protocol":"TCP","target_port":"27017"}],"publish_not_ready_addresses":false,"selector":{"app":"custom-db"},"session_affinity":"None","session_affinity_config":[],"type":"ClusterIP"}],"status":[{"load_balancer":[{"ingress":[]}]}],"timeouts":null,"wait_for_load_balancer":true},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"mode":"managed","type":"kubernetes_service_v1","name":"web_service","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"index_key":0,"schema_version":1,"attributes":{"id":"default/custom-web-service","metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":null,"name":"custom-web-service","namespace":"default","resource_version":"438","uid":"92fa8ac6-d2bf-4f1f-b34b-595f49b7c5b3"}],"spec":[{"allocate_load_balancer_node_ports":true,"cluster_ip":"10.111.252.24","cluster_ips":["10.111.252.24"],"external_ips":null,"external_name":"","external_traffic_policy":"Cluster","health_check_node_port":0,"internal_traffic_policy":"Cluster","ip_families":["IPv4"],"ip_family_policy":"SingleStack","load_balancer_class":"","load_balancer_ip":"","load_balancer_source_ranges":null,"port":[{"app_protocol":"","name":"http","node_port":32536,"port":80,"protocol":"TCP","target_port":"80"},{"app_protocol":"","name":"ssh","node_port":30326,"port":22,"protocol":"TCP","target_port":"2222"}],"publish_not_ready_addresses":false,"selector":{"app":"custom-web"},"session_affinity":"None","session_affinity_config":[],"type":"NodePort"}],"status":[{"load_balancer":[{"ingress":[]}]}],"timeouts":null,"wait_for_load_balancer":true},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]}],"check_results":null}
