{"version":4,"terraform_version":"1.10.7","serial":2,"lineage":"3a11a89f-78c5-1f87-c152-c0938d5cce8b","outputs":{"ssh_port":{"value":32532,"type":"number"}},"resources":[{"mode":"managed","type":"kubernetes_config_map_v1","name":"mysql_master_config","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"binary_data":null,"data":{"my.cnf":"[mysqld]\nserver-id = 1\nlog_bin = /var/lib/mysql/mysql-bin.log\nbinlog_format = ROW\ndefault_authentication_plugin=mysql_native_password\n"},"id":"default/mysql-master-config","immutable":false,"metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":null,"name":"mysql-master-config","namespace":"default","resource_version":"436","uid":"2f96cbaf-a5b3-41b6-afa0-7a65190e8c55"}]},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"kubernetes_config_map_v1","name":"mysql_slave_config","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"binary_data":null,"data":{"my.cnf":"[mysqld]\nserver-id = 2\nrelay-log = /var/lib/mysql/mysql-relay-bin.log\ndefault_authentication_plugin=mysql_native_password\n"},"id":"default/mysql-slave-config","immutable":false,"metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":null,"name":"mysql-slave-config","namespace":"default","resource_version":"437","uid":"31a7aec6-731e-4d5f-bce4-074357ce8cc4"}]},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"kubernetes_deployment_v1","name":"ssh_box","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":1,"attributes":{"id":"default/ssh-server","metadata":[{"annotations":null,"generate_name":"","generation":1,"labels":null,"name":"ssh-server","namespace":"default","resource_version":"504","uid":"82368afb-1bcc-44b5-afd0-adec76c2d62f"}],"spec":[{"min_ready_seconds":0,"paused":false,"progress_deadline_seconds":600,"replicas":"1","revision_history_limit":10,"selector":[{"match_expressions":[],"match_labels":{"app":"ssh"}}],"strategy":[{"rolling_update":[{"max_surge":"25%","max_unavailable":"25%"}],"type":"RollingUpdate"}],"template":[{"metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":{"app":"ssh"},"name":"","namespace":"","resource_version":"","uid":""}],"spec":[{"active_deadline_seconds":0,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[{"name":"USER_NAME","value":"cliente","value_from":[]},{"name":"USER_PASSWORD","value":"AA1Jsfv5G+0Z6sTg","value_from":[]},{"name":"PASSWORD_ACCESS","value":"true","value_from":[]},{"name":"SUDO_ACCESS","value":"true","value_from":[]}],"env_from":[],"image":"lscr.io/linuxserver/openssh-server:latest","image_pull_policy":"IfNotPresent","lifecycle":[],"liveness_probe":[],"name":"ubuntu","port":[{"container_port":2222,"host_ip":"","host_port":0,"name":"","protocol":"TCP"}],"readiness_probe":[],"resources":[{"limits":{},"requests":{}}],"restart_policy":"","security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","termination_message_policy":"File","tty":false,"volume_device":[],"volume_mount":[],"working_dir":""}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"hostname":"","image_pull_secrets":[],"init_container":[],"node_name":"","node_selector":null,"os":[],"priority_class_name":"","readiness_gate":[],"restart_policy":"Always","runtime_class_name":"","scheduler_name":"default-scheduler","security_context":[],"service_account_name":"","share_process_namespace":false,"subdomain":"","termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[]}]}]}],"timeouts":null,"wait_for_rollout":true},"sensitive_attributes":[[{"type":"get_attr","value":"spec"},{"type":"index","value":{"value":0,"type":"number"}},{"type":"get_attr","value":"template"},{"type":"index","value":{"value":0,"type":"number"}},{"type":"get_attr","value":"spec"},{"type":"index","value":{"value":0,"type":"number"}},{"type":"get_attr","value":"container"},{"type":"index","value":{"value":0,"type":"number"}},{"type":"get_attr","value":"env"},{"type":"index","value":{"value":1,"type":"number"}},{"type":"get_attr","value":"value"}]],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9"}]},{"mode":"managed","type":"kubernetes_service_v1","name":"mysql_master","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":1,"attributes":{"id":"default/mysql-master","metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":null,"name":"mysql-master","namespace":"default","resource_version":"443","uid":"b0814512-5c53-4def-94fc-d53b0c67c06f"}],"spec":[{"allocate_load_balancer_node_ports":true,"cluster_ip":"10.105.115.23","cluster_ips":["10.105.115.23"],"external_ips":null,"external_name":"","external_traffic_policy":"","health_check_node_port":0,"internal_traffic_policy":"Cluster","ip_families":["IPv4"],"ip_family_policy":"SingleStack","load_balancer_class":"","load_balancer_ip":"","load_balancer_source_ranges":null,"port":[{"app_protocol":"","name":"","node_port":0,"port":3306,"protocol":"TCP","target_port":"3306"}],"publish_not_ready_addresses":false,"selector":{"app":"mysql-master"},"session_affinity":"None","session_affinity_config":[],"type":"ClusterIP"}],"status":[{"load_balancer":[{"ingress":[]}]}],"timeouts":null,"wait_for_load_balancer":true},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"mode":"managed","type":"kubernetes_service_v1","name":"mysql_slave","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":1,"attributes":{"id":"default/mysql-slave","metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":null,"name":"mysql-slave","namespace":"default","resource_version":"441","uid":"53f1ad60-77ff-4569-8c2f-6833b5ee447f"}],"spec":[{"allocate_load_balancer_node_ports":true,"cluster_ip":"10.108.36.213","cluster_ips":["10.108.36.213"],"external_ips":null,"external_name":"","external_traffic_policy":"","health_check_node_port":0,"internal_traffic_policy":"Cluster","ip_families":["IPv4"],"ip_family_policy":"SingleStack","load_balancer_class":"","load_balancer_ip":"","load_balancer_source_ranges":null,"port":[{"app_protocol":"","name":"","node_port":0,"port":3306,"protocol":"TCP","target_port":"3306"}],"publish_not_ready_addresses":false,"selector":{"app":"mysql-slave"},"session_affinity":"None","session_affinity_config":[],"type":"ClusterIP"}],"status":[{"load_balancer":[{"ingress":[]}]}],"timeouts":null,"wait_for_load_balancer":true},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"mode":"managed","type":"kubernetes_service_v1","name":"ssh_service","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":1,"attributes":{"id":"default/ssh-access","metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":null,"name":"ssh-access","namespace":"default","resource_version":"440","uid":"7288f66a-c12a-4a93-ac4c-cfcd5c5ee295"}],"spec":[{"allocate_load_balancer_node_ports":true,"cluster_ip":"10.96.251.42","cluster_ips":["10.96.251.42"],"external_ips":null,"external_name":"","external_traffic_policy":"Cluster","health_check_node_port":0,"internal_traffic_policy":"Cluster","ip_families":["IPv4"],"ip_family_policy":"SingleStack","load_balancer_class":"","load_balancer_ip":"","load_balancer_source_ranges":null,"port":[{"app_protocol":"","name":"","node_port":32532,"port":22,"protocol":"TCP","target_port":"2222"}],"publish_not_ready_addresses":false,"selector":{"app":"ssh"},"session_affinity":"None","session_affinity_config":[],"type":"NodePort"}],"status":[{"load_balancer":[{"ingress":[]}]}],"timeouts":null,"wait_for_load_balancer":true},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"mode":"managed","type":"kubernetes_stateful_set_v1","name":"mysql_master","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":1,"attributes":{"id":"default/mysql-master","metadata":[{"annotations":null,"generate_name":"","generation":1,"labels":null,"name":"mysql-master","namespace":"default","resource_version":"643","uid":"0b508494-60ac-49d8-8fe2-b92fb67d9549"}],"spec":[{"min_ready_seconds":0,"persistent_volume_claim_retention_policy":[{"when_deleted":"Retain","when_scaled":"Retain"}],"pod_management_policy":"OrderedReady","replicas":"1","revision_history_limit":0,"selector":[{"match_expressions":[],"match_labels":{"app":"mysql-master"}}],"service_name":"mysql-master","template":[{"metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":{"app":"mysql-master"},"name":"","namespace":"","resource_version":"","uid":""}],"spec":[{"active_deadline_seconds":0,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[{"name":"MYSQL_ROOT_PASSWORD","value":"password_root","value_from":[]},{"name":"MYSQL_DATABASE","value":"kylo_db","value_from":[]},{"name":"MYSQL_USER","value":"kylo_user","value_from":[]},{"name":"MYSQL_PASSWORD","value":"kylo_password","value_from":[]}],"env_from":[],"image":"mysql:8.0","image_pull_policy":"IfNotPresent","lifecycle":[],"liveness_probe":[],"name":"mysql","port":[{"container_port":3306,"host_ip":"","host_port":0,"name":"","protocol":"TCP"}],"readiness_probe":[{"exec":[{"command":["mysqladmin","ping","-h","localhost","-u","root","-ppassword_root"]}],"failure_threshold":3,"grpc":[],"http_get":[],"initial_delay_seconds":5,"period_seconds":2,"success_threshold":1,"tcp_socket":[],"timeout_seconds":1}],"resources":[{"limits":{"cpu":"1","memory":"1Gi"},"requests":{"cpu":"500m","memory":"512Mi"}}],"restart_policy":"","security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","termination_message_policy":"File","tty":false,"volume_device":[],"volume_mount":[{"mount_path":"/var/lib/mysql","mount_propagation":"None","name":"mysql-data","read_only":false,"sub_path":"","sub_path_expr":""},{"mount_path":"/etc/mysql/conf.d","mount_propagation":"None","name":"config","read_only":false,"sub_path":"","sub_path_expr":""}],"working_dir":""}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"hostname":"","image_pull_secrets":[],"init_container":[],"node_name":"","node_selector":null,"os":[],"priority_class_name":"","readiness_gate":[],"restart_policy":"Always","runtime_class_name":"","scheduler_name":"default-scheduler","security_context":[],"service_account_name":"","share_process_namespace":false,"subdomain":"","termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[{"default_mode":"0644","items":[],"name":"mysql-master-config","optional":false}],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"name":"config","nfs":[],"persistent_volume_claim":[],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}],"update_strategy":[],"volume_claim_template":[{"metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":null,"name":"mysql-data","namespace":"default","resource_version":"","uid":""}],"spec":[{"access_modes":["ReadWriteOnce"],"resources":[{"limits":null,"requests":{"storage":"1Gi"}}],"selector":[],"storage_class_name":"","volume_mode":"Filesystem","volume_name":""}]}]}],"timeouts":null,"wait_for_rollout":true},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJyZWFkIjo2MDAwMDAwMDAwMDAsInVwZGF0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="}]},{"mode":"managed","type":"kubernetes_stateful_set_v1","name":"mysql_slave","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":1,"attributes":{"id":"default/mysql-slave","metadata":[{"annotations":null,"generate_name":"","generation":1,"labels":null,"name":"mysql-slave","namespace":"default","resource_version":"637","uid":"a27bf0e7-e2c6-4bc9-90c3-c8e41d057cd5"}],"spec":[{"min_ready_seconds":0,"persistent_volume_claim_retention_policy":[{"when_deleted":"Retain","when_scaled":"Retain"}],"pod_management_policy":"OrderedReady","replicas":"1","revision_history_limit":0,"selector":[{"match_expressions":[],"match_labels":{"app":"mysql-slave"}}],"service_name":"mysql-slave","template":[{"metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":{"app":"mysql-slave"},"name":"","namespace":"","resource_version":"","uid":""}],"spec":[{"active_deadline_seconds":0,"affinity":[],"automount_service_account_token":true,"container":[{"args":null,"command":null,"env":[{"name":"MYSQL_ROOT_PASSWORD","value":"password_root","value_from":[]}],"env_from":[],"image":"mysql:8.0","image_pull_policy":"IfNotPresent","lifecycle":[],"liveness_probe":[],"name":"mysql","port":[{"container_port":3306,"host_ip":"","host_port":0,"name":"","protocol":"TCP"}],"readiness_probe":[{"exec":[{"command":["mysqladmin","ping","-h","localhost","-u","root","-ppassword_root"]}],"failure_threshold":3,"grpc":[],"http_get":[],"initial_delay_seconds":5,"period_seconds":2,"success_threshold":1,"tcp_socket":[],"timeout_seconds":1}],"resources":[{"limits":{"cpu":"1","memory":"1Gi"},"requests":{"cpu":"500m","memory":"512Mi"}}],"restart_policy":"","security_context":[],"startup_probe":[],"stdin":false,"stdin_once":false,"termination_message_path":"/dev/termination-log","termination_message_policy":"File","tty":false,"volume_device":[],"volume_mount":[{"mount_path":"/var/lib/mysql","mount_propagation":"None","name":"mysql-data","read_only":false,"sub_path":"","sub_path_expr":""},{"mount_path":"/etc/mysql/conf.d","mount_propagation":"None","name":"config","read_only":false,"sub_path":"","sub_path_expr":""}],"working_dir":""}],"dns_config":[],"dns_policy":"ClusterFirst","enable_service_links":true,"host_aliases":[],"host_ipc":false,"host_network":false,"host_pid":false,"hostname":"","image_pull_secrets":[],"init_container":[],"node_name":"","node_selector":null,"os":[],"priority_class_name":"","readiness_gate":[],"restart_policy":"Always","runtime_class_name":"","scheduler_name":"default-scheduler","security_context":[],"service_account_name":"","share_process_namespace":false,"subdomain":"","termination_grace_period_seconds":30,"toleration":[],"topology_spread_constraint":[],"volume":[{"aws_elastic_block_store":[],"azure_disk":[],"azure_file":[],"ceph_fs":[],"cinder":[],"config_map":[{"default_mode":"0644","items":[],"name":"mysql-slave-config","optional":false}],"csi":[],"downward_api":[],"empty_dir":[],"ephemeral":[],"fc":[],"flex_volume":[],"flocker":[],"gce_persistent_disk":[],"git_repo":[],"glusterfs":[],"host_path":[],"iscsi":[],"local":[],"name":"config","nfs":[],"persistent_volume_claim":[],"photon_persistent_disk":[],"projected":[],"quobyte":[],"rbd":[],"secret":[],"vsphere_volume":[]}]}]}],"update_strategy":[],"volume_claim_template":[{"metadata":[{"annotations":null,"generate_name":"","generation":0,"labels":null,"name":"mysql-data","namespace":"default","resource_version":"","uid":""}],"spec":[{"access_modes":["ReadWriteOnce"],"resources":[{"limits":null,"requests":{"storage":"1Gi"}}],"selector":[],"storage_class_name":"","volume_mode":"Filesystem","volume_name":""}]}]}],"timeouts":null,"wait_for_rollout":true},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJyZWFkIjo2MDAwMDAwMDAwMDAsInVwZGF0ZSI6NjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="}]}],"check_results":null}
